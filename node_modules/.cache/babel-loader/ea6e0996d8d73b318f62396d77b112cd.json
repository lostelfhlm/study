{"ast":null,"code":"var _jsxFileName = \"F:\\\\\\u5B66\\u4E60\\u8D44\\u6599\\\\git\\\\my-app\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport { nanoid } from 'nanoid';\nimport './style.css';\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { ReactDOM } from \"react\";\nimport Die from './practice8/Die';\nimport Confetti from 'react-confetti';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n\n  const old = {\n    count: 0,\n    step: 0\n  };\n  const [tenzies, setTenzies] = useState(false);\n  const [value, setValue] = useState(allNewDice());\n  const [count, setCount] = useState(old);\n  const [times, setTimes] = useState(0);\n  const counttime = useRef(null);\n\n  function record() {\n    if (count.count !== 0) {\n      setCount(() => {\n        return {\n          count: count.count,\n          step: 0\n        };\n      });\n    } else {\n      return {\n        count: 0,\n        step: 0\n      };\n    }\n  }\n\n  function allNewDice() {\n    const newarr = [];\n\n    for (let i = 0; i < 10; i++) {\n      const randomnum = creatbox();\n      newarr.push(randomnum);\n    }\n\n    return newarr;\n  }\n\n  useEffect(() => {\n    let num = [];\n\n    for (let i = 0; i < value.length - 1; i++) {\n      if (value[i].value === value[i + 1].value) {\n        num.push(value[i].value);\n      }\n    }\n\n    const allHeld = value.every(item => item.isHeld);\n\n    if (num.length == 9 && allHeld) {\n      setTenzies(true);\n      setCount(item => {\n        return { ...item,\n          count: item.count + 1\n        };\n      });\n    }\n\n    if (times === 0) {\n      timestart();\n    } else if (allHeld) {\n      timeend();\n    }\n  }, [value]);\n\n  function timestart() {\n    counttime.current = setInterval(function () {\n      setTimes(item => item + 1);\n    }, 1000);\n  }\n\n  function timeend() {\n    clearInterval(counttime.current);\n    console.log(times);\n  }\n\n  function creatbox() {\n    return {\n      value: Math.floor(Math.random() * 6) + 1,\n      isHeld: false,\n      id: nanoid()\n    };\n  }\n\n  function holdbox(id) {\n    let num = 0;\n    let select = [];\n\n    for (let i in value) {\n      if (!value[i].isHeld) {\n        num++;\n      } else {\n        select.push(value[i].value);\n      }\n    }\n\n    console.log(num);\n\n    if (num === 10) {\n      setValue(value.map(item => {\n        return { ...item,\n          isHeld: item.id === id ? true : item.isHeld\n        };\n      }));\n    } else {\n      setValue(value.map(item => {\n        return { ...item,\n          isHeld: item.id === id && item.value === select[0] ? true : item.isHeld\n        };\n      }));\n    }\n  }\n\n  function Reset() {\n    if (tenzies) {\n      setValue(allNewDice());\n      setTenzies(false);\n      setTimes(0);\n      record();\n    } else {\n      setCount(item => {\n        return { ...item,\n          step: item.step + 1\n        };\n      });\n      setValue(value => value.map(item => {\n        return item.isHeld ? item : creatbox();\n      }));\n    }\n  }\n\n  const style = value.isHeld ? 'boxactive' : '';\n  const Delement = value.map(item => /*#__PURE__*/_jsxDEV(Die, {\n    value: item.value,\n    className: 'boxactive',\n    isHeld: item.isHeld,\n    holdbox: () => holdbox(item.id)\n  }, item.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 191,\n    columnNumber: 40\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"main\",\n    children: [tenzies && /*#__PURE__*/_jsxDEV(Confetti, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"title\",\n      children: \"Tenzies\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this), !tenzies && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"instructions\",\n      children: \"Roll until all boxes are the same. Click each box to freeze it at its current value between rolls.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 20\n    }, this), !tenzies && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container \",\n      children: Delement\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 20\n    }, this), tenzies && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"win\",\n      children: [\"CONGRATULATION \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 55\n      }, this), \"YOU WIN!!!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"you had win \", /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"score\",\n        children: count.count\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 21\n      }, this), \"  times \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 67\n      }, this), \"spend \", /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"score\",\n        children: times\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 15\n      }, this), \" s and use \", /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"score\",\n        children: count.step\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 17\n      }, this), \" steps\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"roll\",\n      onClick: Reset,\n      children: tenzies ? 'Newgame' : 'Roll'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"T2pDzt28LncK8rNsCJa0ymC14s4=\");\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["nanoid","React","useEffect","useState","useRef","ReactDOM","Die","Confetti","App","old","count","step","tenzies","setTenzies","value","setValue","allNewDice","setCount","times","setTimes","counttime","record","newarr","i","randomnum","creatbox","push","num","length","allHeld","every","item","isHeld","timestart","timeend","current","setInterval","clearInterval","console","log","Math","floor","random","id","holdbox","select","map","Reset","style","Delement"],"sources":["F:/学习资料/git/my-app/src/App.js"],"sourcesContent":["import { nanoid } from 'nanoid'\r\nimport './style.css'\r\nimport React, { useEffect, useState, useRef } from \"react\"\r\nimport { ReactDOM } from \"react\"\r\nimport Die from './practice8/Die'\r\nimport Confetti from 'react-confetti'\r\n\r\nexport default function App () {\r\n\r\n\r\n\r\n  const old = {\r\n    count: 0,\r\n    step: 0\r\n  }\r\n  const [tenzies, setTenzies] = useState(false)\r\n\r\n  const [value, setValue] = useState(allNewDice())\r\n\r\n\r\n  const [count, setCount] = useState(old)\r\n  const [times, setTimes] = useState(0)\r\n  const counttime = useRef(null)\r\n\r\n\r\n\r\n  function record () {\r\n\r\n\r\n    if (count.count !== 0) {\r\n      setCount(() => {\r\n        return {\r\n          count: count.count,\r\n          step: 0\r\n        }\r\n      })\r\n\r\n\r\n    } else {\r\n\r\n      return {\r\n        count: 0,\r\n        step: 0\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n\r\n  function allNewDice () {\r\n    const newarr = []\r\n\r\n    for (let i = 0; i < 10; i++) {\r\n      const randomnum = creatbox()\r\n\r\n      newarr.push(randomnum)\r\n    }\r\n\r\n    return newarr\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    let num = []\r\n    for (let i = 0; i < value.length - 1; i++) {\r\n\r\n\r\n      if (value[i].value === value[i + 1].value) {\r\n        num.push(value[i].value)\r\n      }\r\n\r\n    }\r\n\r\n    const allHeld = value.every((item) => item.isHeld)\r\n\r\n\r\n\r\n    if (num.length == 9 && allHeld) {\r\n      setTenzies(true)\r\n\r\n      setCount((item) => {\r\n\r\n        return {\r\n          ...item,\r\n          count: item.count + 1\r\n        }\r\n      })\r\n\r\n    }\r\n    if (times === 0) {\r\n      timestart()\r\n    } else if (allHeld) {\r\n      timeend()\r\n    }\r\n\r\n  }, [value])\r\n\r\n\r\n\r\n  function timestart () {\r\n    counttime.current = setInterval(function () {\r\n      setTimes(item => item + 1)\r\n    }, 1000)\r\n  }\r\n\r\n  function timeend () {\r\n    clearInterval(counttime.current)\r\n    console.log(times)\r\n  }\r\n\r\n\r\n  function creatbox () {\r\n    return {\r\n\r\n      value: Math.floor(Math.random() * (6)) + 1,\r\n      isHeld: false,\r\n      id: nanoid()\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  function holdbox (id) {\r\n    let num = 0\r\n    let select = []\r\n    for (let i in value) {\r\n      if (!value[i].isHeld) {\r\n        num++\r\n      } else {\r\n\r\n        select.push(value[i].value)\r\n\r\n      }\r\n\r\n    }\r\n\r\n    console.log(num)\r\n    if (num === 10) {\r\n      setValue(value.map((item) => {\r\n        return {\r\n          ...item,\r\n          isHeld: item.id === id ? true : item.isHeld\r\n        }\r\n      }))\r\n    } else {\r\n\r\n      setValue(value.map((item) => {\r\n        return {\r\n          ...item,\r\n          isHeld: item.id === id && item.value === select[0] ? true : item.isHeld\r\n        }\r\n      }))\r\n\r\n    }\r\n\r\n  }\r\n\r\n\r\n  function Reset () {\r\n\r\n    if (tenzies) {\r\n      setValue(allNewDice())\r\n      setTenzies(false)\r\n      setTimes(0)\r\n      record()\r\n    } else {\r\n      setCount((item) => {\r\n        return {\r\n          ...item,\r\n          step: item.step + 1\r\n        }\r\n      })\r\n      setValue(value => value.map(item => {\r\n        return item.isHeld ?\r\n          item :\r\n          creatbox()\r\n\r\n      })\r\n      )\r\n    }\r\n  }\r\n\r\n\r\n\r\n  const style = value.isHeld ? 'boxactive' : ''\r\n\r\n\r\n  const Delement = value.map((item) => <Die value={item.value} className={'boxactive'} isHeld={item.isHeld} holdbox={() => holdbox(item.id)} key={item.id} />)\r\n\r\n  return (\r\n\r\n    <main className='main'>\r\n\r\n      {tenzies && <Confetti />}\r\n      <h1 className=\"title\">Tenzies</h1>\r\n      {!tenzies && <p className=\"instructions\">Roll until all boxes are the same. Click each box to freeze it at its current value between rolls.</p>}\r\n      {!tenzies && <div className='container '>\r\n        {Delement}\r\n      </div>}\r\n\r\n      {tenzies && <div className='win'>CONGRATULATION <br />YOU WIN!!!</div>}\r\n      <div >\r\n        you had win <p className='score'>{count.count}</p>  times <br />\r\n\r\n        spend <p className='score'>{times}</p> s\r\n\r\n        and use <p className='score'>{count.step}</p> steps\r\n\r\n      </div>\r\n\r\n      <button className='roll' onClick={Reset}>{tenzies ? 'Newgame' : 'Roll'}</button>\r\n\r\n    </main>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}